export const boundaryAnalysisPrompt = (
  requirementDoc: string,
  requirementSummary: string,
  requirementGlossary: string
) => `
目前在进行撰写和优化需求文档A

目标需要处理的需求文档的内容（markdown格式）如下:
${requirementDoc}

需求文档A相关的文档摘要如下（json格式，一行一个文档摘要）
${requirementSummary}

需求文档A相关的术语如下（json格式，一行一个术语）：
${requirementGlossary}

请针对目标需求文档，结合上下文，使用准确的产品思维逻辑进行全面的边界case识别，**重点关注产品经理在定义需求时需要明确的业务规则和用户体验场景。**

**核心目标：识别需求文档中可能存在的模糊不清、考虑不周全的业务规则和用户体验场景，以便在需求讨论阶段进行澄清。**

**分析维度（更侧重业务和用户）：**

1.  **核心功能与业务流程边界：**
    * 针对需求文档中的每一个功能模块，**重点分析其核心功能和关键业务流程**，识别在这些功能和流程的开始、结束以及关键转折点可能存在的边界case。例如，用户在完成某个流程后，下一步应该是什么？如果用户在流程中途退出，会发生什么？
    * 考虑用户在使用这些功能时，各种正常、异常以及**不符合预期**的操作路径，分析可能出现的与业务逻辑相关的边界情况。

2.  **数据规则与业务约束：**
    * 分析需求中涉及的关键业务数据（例如数量、金额、状态等），识别这些数据在**临界值、默认值、异常值**等情况下，业务逻辑应该如何处理。
    * 检查需求中是否明确了各种业务约束和规则（例如数量限制、时间限制、状态转换规则等），并分析当这些约束被打破或处于边界时，系统应该如何响应。

3.  **用户输入与展示的边界：**
    * 分析用户在操作过程中可能输入的各种数据，例如文本、数字、图片等，识别当输入**为空、超出长度限制、格式错误**等情况下，系统应该如何处理并提示用户。
    * 考虑系统向用户展示的信息（例如列表、详情、提示语等），识别在**数据为空、数据量过大、内容缺失**等情况下，用户体验是否良好，是否需要额外的处理或提示。

4.  **用户体验与极端场景（从业务角度）：**
    * 从用户体验的角度出发，考虑用户在各种**临界状态或操作异常**时，是否会产生困惑或无法完成操作。例如，用户在弱网环境下操作会怎样？用户长时间不操作会怎样？
    * 识别可能出现的**极端业务场景**，例如某个活动参与人数超出预期、某个商品库存不足等，业务逻辑上应该如何处理。

5.  **系统稳定性与数据一致性：**
    * 重点关注可能影响系统稳定性的边界case，例如网络异常、服务中断、资源不足、极端并发等情况下的处理机制。
    * 分析涉及数据交互和存储的功能，识别可能导致数据不一致的边界case，例如多端同步、数据异常值、数据迁移等。

6.  **历史经验借鉴（基于文档摘要，侧重业务影响）：**
    * 仔细分析提供的文档摘要，识别历史需求中曾经因为**业务规则不清晰、用户体验考虑不周全**而导致的问题和讨论点。
    * 将你在历史需求摘要中发现的与业务逻辑和用户体验相关的关键点与当前的目标需求文档进行对比和关联。
    * 对于在历史需求中因为业务边界问题被提及的case，优先在当前需求分析中进行考虑和“借鉴”。

7.  **结合术语（确保业务概念清晰）：**
    * 务必结合提供的术语表，确保需求文档中使用的业务术语定义清晰，避免因术语理解不一致而导致边界不明确。

请务必遵循以下输出格式，围绕需求文档中的功能模块展开分析，并针对每个功能模块从上述不同维度进行深入分析

**输出格式示例 ：**

**一、[功能模块名称1]**

1.  **[具体功能点1]**
    * **边界case (重点分析，基于需求描述的业务逻辑和用户体验):**
        * [边界情况描述 1]  ([简要说明业务影响或用户体验问题，以及需要在需求中澄清的点])
        * [边界情况描述 2]  ([简要说明业务影响或用户体验问题，以及需要在需求中澄清的点])
        * ...
        * **示例:** 用户在提交订单时，如果收货地址填写为空，业务上应该如何处理？是否允许提交？如何提示用户？
    * **历史经验借鉴 (如果适用，侧重业务和用户体验):**
        * [引用历史文档摘要中的相关信息，分析之前在类似功能上遇到的业务逻辑或用户体验边界问题]
        * ...

**二、[功能模块名称2]**

1.  **[具体功能点1]**
    * **边界case (重点分析，基于需求描述的业务逻辑和用户体验):**
        * [边界情况描述 1]  ([简要说明业务影响或用户体验问题，以及需要在需求中澄清的点])
    * **历史经验借鉴 (如果适用，侧重业务和用户体验):**
        * [引用历史文档摘要中的相关信息，分析之前在类似功能上遇到的业务逻辑或用户体验边界问题]

... (以此类推，覆盖所有功能模块)
` 